<form [formGroup]="financialForm" class="financial-health me-2">
    <div class="widget-box">
       <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
          Business Capability 
       </h5>
       <div class="widget-content" >
          <div class="grid-4cols">
             <mat-form-field class="col">
                <mat-label>
                   Experience History
                </mat-label>
                <mat-select required formControlName="experienceId" matTooltip="Select Experience History">
                   <mat-option value="">-- Please Select --</mat-option>
                   <mat-option [value]="1">1-3 Years</mat-option>
                   <mat-option [value]="2">4-6 Years</mat-option>
                   <mat-option [value]="3">7-10 Years</mat-option>
                   <mat-option [value]="4">10+ Years</mat-option>
                </mat-select>
             </mat-form-field>
             <mat-form-field class="col">
                <mat-label>
                   Currency
                </mat-label>
                <mat-select required formControlName="currencyId" matTooltip="Select Currency">
                   <mat-option value="">-- Please Select --</mat-option>
                   <mat-option  >
                   Inr
                   </mat-option>
                </mat-select>
             </mat-form-field>
             <mat-form-field class="col">
                <mat-label>Aggregate Value of Projects at Hand</mat-label>
                <input matInput formControlName="aggregateValueProjects" style="text-align: right;"
                   matTooltip="Enter the Aggregate Value of Projects at Hand" [systemParameter]="systemParameter"
                   formatCurrency>
             </mat-form-field>
             <mat-form-field class="col">
                <mat-label>Max Value of Projects that you can
                   Undertake
                </mat-label>
                <input matInput formControlName="maxValueOfProjectUndertake" style="text-align: right;"
                   maxlength="20" [systemParameter]="systemParameter" formatCurrency
                   matTooltip="Enter the Max Value of Projects that you can Undertake">
             </mat-form-field>
          </div>
       </div>
    </div>
    <div>
       <div class="widget-box">
          <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
             Project Details
             <button style="min-width: 20px !important;height: 26px;"
             class="header-level-btn-blue" matTooltip="Add more Project Details"
             >
             <i class="fa fa-plus"></i>
             </button>
          </h5>
          <div class="widget-content" >
             <mat-accordion class="project-panel"
            >
             <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                   <div class="my-panel" >
                      <span>Project # 1</span>
                      <div class="remove-proj  del-icon-position" >
                         <a mattooltip="Remove Tax" class="delete-hover"
                         matTooltip="Remove this Project Details" 
                         >
                         <span class="material-icons-outlined cursor-pointer">delete_forever</span>
                         </a>
                      </div>
                   </div>
                </mat-expansion-panel-header>
                <div class="grid-4cols">
                   <mat-form-field class="col">
                      <mat-label>
                         Project Status
                      </mat-label>
                      <mat-select required formControlName="projectStatusId"
                         matTooltip="Select Project Status" >
                         <mat-option value="">-- Please Select --</mat-option>
                         <mat-option [value]="1">Ongoing Project</mat-option>
                         <mat-option [value]="2">Completed Project</mat-option>
                      </mat-select>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>
                         Customer Name
                      </mat-label>
                      <input matInput matTooltip="Enter the customer name" formControlName="customerName"
                         required>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>
                         Start Date
                      </mat-label>
                      <input matInput matTooltip="Enter the start Date" [matDatepicker]="startDateTab"
                         formControlName="startDate" required name="startDate">

                      <mat-datepicker-toggle matIconSuffix [for]="startDateTab"></mat-datepicker-toggle>
                      <mat-datepicker #startDateTab></mat-datepicker>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>
                         End Date
                      </mat-label>
                      <input matInput [matDatepicker]="endDateTab" formControlName="endDate"
                      [min]="" matTooltip="Select the End Date" />
                     
                      <mat-datepicker-toggle matIconSuffix [for]="endDateTab"></mat-datepicker-toggle>
                      <mat-datepicker #endDateTab></mat-datepicker>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>
                         Country
                      </mat-label>
                      <mat-select formControlName="countryId" matTooltip="Select Country">
                         <mat-option value="">-- Please Select --</mat-option>
                         <mat-option>
                         India
                         </mat-option>
                      </mat-select>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>Currency</mat-label>
                      <mat-select formControlName="currencyId" matTooltip="Select Currency">
                         <mat-option value="">-- Please Select --</mat-option>
                         <mat-option>
                         Inr
                         </mat-option>
                      </mat-select>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>Value</mat-label>
                      <input [systemParameter]="systemParameter" formatCurrency matInput
                         formControlName="value" matTooltip="Enter the value" style="text-align: right;"
                         maxlength="14" allowNumberOnly>
                   </mat-form-field>
                   <mat-form-field class="col">
                      <mat-label>
                         Project Description
                      </mat-label>
                      <textarea matInput formControlName="projectDescription" rows="1" required></textarea>
                   </mat-form-field>
                </div>
             </mat-expansion-panel>
             </mat-accordion>
          </div>
       </div>
       <div class="widget-box">
          <h5 class="widget-title">Financial Health</h5>
          <div class="widget-content" formGroupName="financialHealthInfo">
             <div class="grid-3cols align-items-center">
                <mat-checkbox formControlName="netProfitLast3Year">
                   Did you make Net Profit in the last 3 years?
                </mat-checkbox>
                <span class="subHeading2 ms-1">
                Financial Audited statements for last 3 years
                <span class="color-red">*</span>
                </span>
                <div>
                   <div class="d-flex w-100 justify-content-between align-items-center mt-2"
                      formGroupName="financialHealthDocsInfo">
                      <div class="custom-file-upload">
                         <button class="file-upload-button">
                         <input class="custom-file-input"
                         id="customFileLang" type="file">
                         <i class="fa fa-cloud-upload" aria-hidden="true"></i><span
                            class="ps-2">Upload</span>
                         </button>
                      </div>
                      <div class="attach-section col position-relative" style="width: 50px; margin-left: 20px;">
                         <mat-icon id="sidebarToggle"
                           >
                            <span class="material-icons-outlined">ballot</span>
                         </mat-icon>
                         <div class="sidebar navbar-nav" style="display: none;" [class.toggled]="attachToggle">
                            <div class="close-icon">
                               <div class="subHeading">Financial Documents</div>
                               <mat-icon class="icon-close">
                                  <span class="material-icons-outlined">close</span>
                               </mat-icon>
                            </div>
                            <div class="upload-file-row"
                               >
                               <div >
                                  <div class="d-flex flex-row align-items-top">
                                     <div style="width: fit-content;" class="subHeading2 pe-1">1
                                     </div>
                                     <div class="subHeading2 col">
                                        <div
                                           style="display: flex; align-items: center; max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                           <span class="me-1"
                                              style="flex-shrink: 1; overflow: hidden; text-overflow: ellipsis;"
                                              matTooltip="PDF">
                                           PDF
                                           </span>
                                           <small>(86.5 KB)</small>
                                           <!-- <span class="material-icons-outlined ms-2" style="cursor: pointer;" matTooltip="Download File" (click)="downloadDoc(doc.value)">download</span> -->
                                        </div>
                                     </div>
                                     <div class="col-auto">
                                        <!-- Jawahar download icons -->
                                        <button class="btn btn-sm smBtn btn-download"
                                           matTooltip="Download File" >
                                        <span class="material-icons-outlined">file_download</span>
                                        </button>
                                        <button class="btn btn-danger btn-sm smBtn"
                                        [disabled]="disableStatusBased === false" type="button"
                                        matTooltip="Delete File"
                                        >
                                        <span class="material-icons-outlined">delete</span>
                                        </button>
                                     </div>
                                     <!-- <div style="width: fit-content;">
                                        <span class="material-icons-outlined del-icon" matTooltip="Delete"
                                            (click)="removeDocument(financialHealthDocsArray,i)">delete_forever</span>
                                        </div> -->
                                  </div>
                               </div>
                            </div>
                         </div>
                      </div>
                   </div>
                   <div class="text-danger ft-size11">Supported Formates: jpg, jpeg, gif, png, pdf</div>
                </div>
             </div>
          </div>
       </div>
       <div class="widget-box">
          <h5 class="widget-title">Assets and Liabilities</h5>
          <div class="widget-content" formArrayName="assetLiabilitieInfos">
             <div class="d-flex flex-row flex-wrap justify-content-start align-items-start">
                <div
                class="col-md-6 p-1">
                <div class="display-label">
                   Assets
                </div>
                <!-- Year-1 -->
                <div class="widget-box">
                   <h5 class="widget-title">
                      Year - 1
                   </h5>
                   <div class="widget-content">
                      <div class="grid-3cols">
                         <mat-form-field>
                            <mat-label>
                               From
                            </mat-label>
                            <input matInput matTooltip=" Enter the From Date" [matDatepicker]="FromTab"
                            formControlName="fromDateYear1" required name="Fromdate">
                            <mat-datepicker-toggle matIconSuffix [for]="FromTab"></mat-datepicker-toggle>
                            <mat-datepicker #FromTab></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>
                               To
                            </mat-label>
                            <input matInput matTooltip=" Enter the To Date" [matDatepicker]="toTab"
                            [min]="" formControlName="toDateYear1"
                            required name="Todate" >
                            <mat-datepicker-toggle matIconSuffix [for]="toTab"></mat-datepicker-toggle>
                            <mat-datepicker #toTab></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>
                               Amount
                            </mat-label>
                            <input matInput [systemParameter]="systemParameter" formatCurrency
                            formControlName="valueYear1" matTooltip="Value from year 1"
                            style="text-align: right;" maxlength="14" allowNumberOnly >
                         </mat-form-field>
                      </div>
                   </div>
                </div>
                <!-- Year-2 -->
                <div class="widget-box">
                   <h5 class="widget-title">
                      Year-2
                   </h5>
                   <div class="widget-content">
                      <div class="grid-3cols">
                         <mat-form-field>
                            <mat-label>From</mat-label>
                            <input matInput matTooltip=" Enter the From Date" [matDatepicker]="FromTab2"
                               formControlName="fromDateYear2" name="Fromdate2">
                            <mat-datepicker-toggle matIconSuffix [for]="FromTab2"></mat-datepicker-toggle>
                            <mat-datepicker #FromTab2></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>To</mat-label>
                            <input matInput matTooltip=" Enter the To Date" [matDatepicker]="toTab2"
                            formControlName="toDateYear2" name="toTab2"
                            [min]="">
                            <mat-datepicker-toggle matIconSuffix [for]="toTab2"></mat-datepicker-toggle>
                            <mat-datepicker #toTab2></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="valueYear2" matTooltip="Value from Year 2"
                               style="text-align: right;" maxlength="14"
                               [systemParameter]="systemParameter" formatCurrency allowNumberOnly>
                         </mat-form-field>
                      </div>
                   </div>
                </div>
                <!-- Year-3 -->
                <div class="widget-box">
                   <h5 class="widget-title">
                      Year-3
                   </h5>
                   <div class="widget-content">
                      <div class="grid-3cols">
                         <mat-form-field>
                            <mat-label>From</mat-label>
                            <input matInput matTooltip=" Enter the From Date" [matDatepicker]="FromTab3"
                               formControlName="fromDateYear3" name="Fromdate3">
                            <mat-datepicker-toggle matIconSuffix [for]="FromTab3"></mat-datepicker-toggle>
                            <mat-datepicker #FromTab3></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>To</mat-label>
                            <input matInput matTooltip=" Enter the To Date" [matDatepicker]="toTab3"
                            formControlName="toDateYear3" name="Todate3"
                            [min]="">
                            <mat-datepicker-toggle matIconSuffix [for]="toTab3"></mat-datepicker-toggle>
                            <mat-datepicker #toTab3></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field>
                            <mat-label>Amount</mat-label>
                            <input matInput formControlName="valueYear3" matTooltip="Value from year 3"
                               style="text-align: right;" maxlength="14"
                               [systemParameter]="systemParameter" formatCurrency allowNumberOnly>
                         </mat-form-field>
                      </div>
                   </div>
                </div>
             </div>
          </div>
       </div>
    </div>
    <div class="widget-box">
       <h5 class="widget-title">Credit Limit</h5>
       <div class="widget-content" formGroupName="businessCreditInfos">
          <div class="grid-3cols">
             <mat-form-field>
                <mat-label>Credit Limit</mat-label>
                <input matInput matTooltip="Enter the credit limit" formControlName="creditLimit"
                style="text-align: right;"
                (keypress)="allowOnlyNumbers($event)">
             </mat-form-field>
             <mat-form-field>
                <mat-label>
                   Credit Exposure Limit
                </mat-label>
                <input matInput matTooltip="Enter the credit exposure limit"
                formControlName="creditExposureLimit" style="text-align: right;"
                (keypress)="allowOnlyNumbers($event)">
             </mat-form-field>
             <mat-form-field>
                <mat-label>
                   Project Limit
                </mat-label>
                <input matInput matTooltip="Enter the project limit" formControlName="projectLimit"
                style="text-align: right;" 
                (keypress)="allowOnlyNumbers($event)">
             </mat-form-field>
          </div>
       </div>
    </div>
    </div>
 </form>