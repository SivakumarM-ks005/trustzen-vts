<div class="content-container">
    <div class="bread-crumbs">
        <h2 class="page-title"><i class="fa fa-dot-circle-o me-2" aria-hidden="true"></i>Sourcing Management >> Request
            For Quotation</h2>
    </div>
    <div class="content-box p-2">
        <form [formGroup]="rfqForm">
            <div class="widget-box" formGroupName="SourcingRFQ">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Select Entity Level
                    <span class="status-label">Status: <span class="status-state">Draft</span></span>
                </h5>
                <div class="widget-content">
                    <div class="grid-5cols">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('entityid')?.hasError('required')){
                                    Entity Name
                                }
                                @if(isSubmitted && SourcingRFQ.get('entityid')?.hasError('required')){
                                <span class="error-msg">Entity Name is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="entityid" >
                                <mat-option *ngFor="let entity of entityData" [value]="entity?.companyName" (onSelectionChange)="getHierarchy(entity)">{{entity?.companyName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('level1')?.hasError('required')){
                                    Level 1
                                }
                                @if(isSubmitted && SourcingRFQ.get('level1')?.hasError('required')){
                                <span class="error-msg">Level 1 is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="level1" (click)="onClick('Entity Name')">
                                <mat-option  *ngFor="let level1 of entityLevelsLov.hierarchy
                                  | entityHierarchyLevels : 1
                              " [value]="level1?.levelValueName" (onSelectionChange)="onLevelsChange(level1?.levelValueCode, 1)">{{level1?.levelValueName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('level2')?.hasError('required')){
                                    Level 2
                                }
                                @if(isSubmitted && SourcingRFQ.get('level2')?.hasError('required')){
                                <span class="error-msg">Level 2 is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="level2" (click)="onClick('Level 1')">
                                <mat-option  *ngFor="
                                let level2 of entityLevelsLov.hierarchy
                                  | entityHierarchyLevels : 2 : entityLevelsLov.level1
                              " [value]="level2?.levelValueName" (onSelectionChange)="onLevelsChange(level2?.levelValueCode, 2)">{{level2?.levelValueName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('level3')?.hasError('required')){
                                    Level 3
                                }
                                @if(isSubmitted && SourcingRFQ.get('Level3')?.hasError('required')){
                                <span class="error-msg">Level 3 is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="level3" (click)="onClick('Level 2')">
                                <mat-option *ngFor="
                                let level3 of entityLevelsLov.hierarchy
                                  | entityHierarchyLevels : 3 : entityLevelsLov.level2
                              " [value]="level3?.levelValueName" (onSelectionChange)="onLevelsChange(level3?.levelValueCode, 3)">{{level3?.levelValueName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('level4')?.hasError('required')){
                                    Level 4
                                }
                                @if(isSubmitted && SourcingRFQ.get('level4')?.hasError('required')){
                                <span class="error-msg">Level 4 is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="level4" (click)="onClick('Level 3')">
                                <mat-option *ngFor="
                                let level4 of entityLevelsLov.hierarchy
                                  | entityHierarchyLevels : 4 : entityLevelsLov.level3
                              " [value]="level4?.levelValueName" (onSelectionChange)="onLevelsChange(level4?.levelValueCode, 4)">{{level4?.levelValueName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="widget-box" formGroupName="SourcingRFQ">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Add Request for Quotation
                    <!-- <span class="status-label">Status: <span class="status-state">Draft</span></span> -->
                </h5>
                <div class="widget-content">
                    <div class="grid-5cols">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('source')?.hasError('required')){
                                    Source
                                }
                                @if(isSubmitted && SourcingRFQ.get('source')?.hasError('required')){
                                <span class="error-msg">Source is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="source" >
                                <mat-option *ngFor="let source of sourceData" [value]="source?.sourceName" [disabled]="isDropdownDisabled">{{source?.sourceName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field *ngIf="SourcingRFQ.get('source')?.value !== 'Direct'">
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('prRefCode')?.hasError('required')){
                                    PR Ref #
                                }
                                @if(isSubmitted && SourcingRFQ.get('prRefCode')?.hasError('required')){
                                <span class="error-msg">PR Ref # is required</span>
                                }
                            </mat-label>
                            <input matInput formControlName="prRefCode" required>
                        </mat-form-field>
                        <mat-form-field *ngIf="SourcingRFQ.get('source')?.value !== 'Direct'">
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('prDate')?.hasError('required')){
                                    PR Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('prDate')?.hasError('required')){
                                <span class="error-msg">PR Date is required</span>
                                }
                            </mat-label>
                            <input matInput [matDatepicker]="dp1" required formControlName="prDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
                            <mat-datepicker #dp1></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field *ngIf="SourcingRFQ.get('source')?.value !== 'Direct'">
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('prCreatedBy')?.hasError('required')){
                                    PR created by 
                                }
                                @if(isSubmitted && SourcingRFQ.get('prCreatedBy')?.hasError('required')){
                                <span class="error-msg">PR PrCreated By is required</span>
                                }
                            </mat-label>
                            <input matInput required formControlName="prCreatedBy">
                        </mat-form-field>
                        <mat-form-field class="numeric-right-align" *ngIf="SourcingRFQ.get('source')?.value !== 'Direct'">
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('prApprovedValue')?.hasError('required')){
                                    PR Approved Value
                                }
                                @if(isSubmitted && SourcingRFQ.get('prApprovedValue')?.hasError('required')){
                                <span class="error-msg">PR Approved Value is required</span>
                                }
                            </mat-label>
                            <input matInput required formControlName="prApprovedValue">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('ref')?.hasError('required')){
                                    Ref #
                                }
                                @if(isSubmitted && SourcingRFQ.get('ref')?.hasError('required')){
                                <span class="error-msg">Ref # is required</span>
                                }
                            </mat-label>
                            <input matInput formControlName="ref">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('createdDate')?.hasError('required')){
                                    Creation Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('createdDate')?.hasError('required')){
                                <span class="error-msg">Creation Date is required</span>
                                }
                            </mat-label>
                            <input matInput [matDatepicker]="dp2" required formControlName="createdDate">
                            <mat-datepicker-toggle matSuffix [for]="dp2"></mat-datepicker-toggle>
                            <mat-datepicker #dp2></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('purchaseClarification')?.hasError('required')){
                                    Purchase Classification
                                }
                                @if(isSubmitted && SourcingRFQ.get('purchaseClarification')?.hasError('required')){
                                <span class="error-msg">Purchase Classification is required</span>
                                }
                            </mat-label>
                            <!-- <input matInput required formControlName="PurchaseClarification"> -->
                            <mat-select required formControlName="purchaseClarification">
                                <mat-option *ngFor="let purchase of purchaseClassification" [value]="purchase?.purchaseClassificationName">{{purchase?.purchaseClassificationName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('spendType')?.hasError('required')){
                                    Spend Type
                                }
                                @if(isSubmitted && SourcingRFQ.get('spendType')?.hasError('required')){
                                <span class="error-msg">Spend Type is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="spendType">
                                <mat-option *ngFor="let spend of spendType" [value]="spend?.spendTypeID">{{spend?.spendTypeName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('buyer')?.hasError('required')){
                                    Buyer
                                }
                                @if(isSubmitted && SourcingRFQ.get('buyer')?.hasError('required')){
                                <span class="error-msg">Buyer is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="buyer">
                                <mat-option *ngFor="let buyer of buyers" [value]="buyer?.name">{{buyer?.name}}</mat-option>
                            </mat-select>
                            <!-- <input matInput required formControlName="buyer"> -->
                        </mat-form-field>
                    <!-- </div>
                    <div class="grid-1-1-3"> -->
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('rateType')?.hasError('required')){
                                    Rate Type
                                }
                                @if(isSubmitted && SourcingRFQ.get('rateType')?.hasError('required')){
                                <span class="error-msg">Rate Type is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="rateType">
                                <mat-option *ngFor="let rated of ratedType" [value]="rated?.type">{{rated?.type}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('shortName')?.hasError('required')){
                                    Short Name
                                }
                                @if(isSubmitted && SourcingRFQ.get('shortName')?.hasError('required')){
                                <span class="error-msg">Short Name is required</span>
                                }
                            </mat-label>
                            <input matInput required formControlName="shortName">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('description')?.hasError('required')){
                                    Description
                                }
                                @if(isSubmitted && SourcingRFQ.get('description')?.hasError('required')){
                                <span class="error-msg">Description is required</span>
                                }
                            </mat-label>
                            <textarea matInput rows="1" required formControlName="description"></textarea>
                        </mat-form-field>
                    <!-- </div>
                    <div class="grid-5cols"> -->
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('sourcingType')?.hasError('required')){
                                    Sourcing Type
                                }
                                @if(isSubmitted && SourcingRFQ.get('sourcingType')?.hasError('required')){
                                <span class="error-msg">Sourcing Type is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="sourcingType">
                                <mat-option *ngFor="let source of sourcingTypes" [value]="source?.id">{{source?.type}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('purchaseType')?.hasError('required')){
                                    Purchase Type
                                }
                                @if(isSubmitted && SourcingRFQ.get('purchaseType')?.hasError('required')){
                                <span class="error-msg">Purchase Type is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="purchaseType">
                                <mat-option *ngFor="let purchase of purchaseType" [value]="purchase?.id">{{purchase?.type}}</mat-option>
 
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('participantType')?.hasError('required')){
                                    Participation Type
                                }
                                @if(isSubmitted && SourcingRFQ.get('participantType')?.hasError('required')){
                                <span class="error-msg">Participation Type is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="participantType">
                                <mat-option *ngFor="let purchase of participantTypes" [value]="purchase?.type">{{purchase?.type}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="widget-box" formGroupName="SourcingRFQ">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Personalize Setup
                    <!-- <span class="status-label">Status: <span class="status-state">Draft</span></span> -->
                </h5>
                <div class="widget-content">
                    <div class="grid-3cols">
                        <mat-checkbox formControlName="itemLevelDiscount">Item Level Discount</mat-checkbox>
                        <mat-checkbox formControlName="itemLevelTax">Item Level Tax</mat-checkbox>
                        <mat-checkbox formControlName="incoOtherCost" (change)="addValidationInco()">Inco/Other Cost</mat-checkbox>
                        <mat-checkbox formControlName="forExCurrencyTxn" (change)="addValidationCurrency()">ForEx Currency Txn</mat-checkbox>
                        <mat-checkbox formControlName="allowPartialQtyResponse">Allow Partial Qty Response</mat-checkbox>
                        <mat-checkbox formControlName="validityofResponseNegotiable">Validity of Response Negotiable</mat-checkbox>
                        <mat-checkbox formControlName="witholdTaxApplicable">Withold Tax Applicable</mat-checkbox>
                        <mat-checkbox formControlName="changeItemShiptoSite" (change)="addValidationShiptoSite()">Change Item Ship to Site</mat-checkbox>
                        <mat-checkbox formControlName="changeItemNeedbyDate" (change)="addValidationNeedbyDate()">Change Item Need by Date</mat-checkbox>
                    </div>

                </div>
            </div>
            <div class="widget-box" formArrayName="RFQBillShipAddressTrans">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Address
                    <!-- <span class="status-label">Status: <span class="status-state">Draft</span></span> -->
                </h5>
                <div class="widget-content" *ngFor="let address of RFQBillShipAddressTrans.controls; let i = index" [formGroupName]="i">
                    <h5 class="widget-title" style="background: transparent !important; padding-left: 0;" *ngIf="i === 0">
                        Bill to Address <sup>*</sup>
                        <!-- <span class="status-label">Status: <span class="status-state">Draft</span></span> -->
                    </h5>
                    <h5 class="widget-title d-flex border-top mt-3"
                    style="background: transparent !important; padding-left: 0;" *ngIf="i === 1">
                    Ship to Addres <sup>*</sup> <mat-checkbox class="ms-2" formControlName="sameBillAddressFlag" (click)="copyBillingToShipping($event, i)">Same as Bill to Address</mat-checkbox>
                    <!-- <span class="status-label">Status: <span class="status-state">Draft</span></span> -->
                    </h5>
                    <div class="grid-2cols">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('addressLine1')?.hasError('required')){
                                    Address Line 1
                                }
                                @if(isSubmitted && address.get('addressLine1')?.hasError('required')){
                                <span class="error-msg">Address Line 1 is required</span>
                                }
                            </mat-label>
                            <input matInput required formControlName="addressLine1">
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('addressLine2')?.hasError('required')){
                                    Address Line 2
                                }
                                @if(isSubmitted && address.get('addressLine2')?.hasError('required')){
                                <span class="error-msg">Address Line 2 is required</span>
                                }
                            </mat-label>
                            <input matInput required formControlName="addressLine2">
                        </mat-form-field>
                    </div>
                    <div class="grid-4cols">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('countryId')?.hasError('required')){
                                    Country
                                }
                                @if(isSubmitted && address.get('countryId')?.hasError('required')){
                                <span class="error-msg">Country is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="countryId" (selectionChange)="getState(i)">
                                <mat-option *ngFor="let data of countryList" [value]="data.countryId">
                                    {{ data.countryName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('stateId')?.hasError('required')){
                                    State/Province
                                }
                                @if(isSubmitted && address.get('stateId')?.hasError('required')){
                                <span class="error-msg">State/Province is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="stateId" (selectionChange)="getCities(i)">
                                <mat-option *ngFor="let data of stateList[i]" [value]="data?.stateId">
                                    {{ data.stateName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('cityId')?.hasError('required')){
                                    City
                                }
                                @if(isSubmitted && address.get('cityId')?.hasError('required')){
                                <span class="error-msg">City is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="cityId" (selectionChange)="getCities(i)">
                                <mat-option *ngFor="let data of cityList[i]" [value]="data?.cityId">
                                    {{ data.cityName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !address.get('postalCode')?.hasError('required')){
                                    Postal Code
                                }
                                @if(isSubmitted && address.get('postalCode')?.hasError('required')){
                                <span class="error-msg">Postal Code is required</span>
                                }
                            </mat-label>
                            <input matInput formControlName="postalCode">
                        </mat-form-field>

                    </div>
                </div>
            </div>
            <div class="widget-box" formGroupName="SourcingRFQ">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Timelines
                </h5>
                <div class="widget-content">
                    <div class="grid-5cols">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('approvedDate')?.hasError('required')){
                                    Approved Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('approvedDate')?.hasError('required')){
                                <span class="error-msg">Approved Date is required</span>
                                }
                            </mat-label>
                            <input matInput [matDatepicker]="tdp1" required formControlName="approvedDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="tdp1"></mat-datepicker-toggle>
                            <mat-datepicker #tdp1></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('publishDate')?.hasError('required')){
                                    Publish Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('publishDate')?.hasError('required')){
                                <span class="error-msg">Publish Date is required</span>
                                }
                            </mat-label>
                            <input matInput [matDatepicker]="tdp2" required formControlName="publishDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="tdp2"></mat-datepicker-toggle>
                            <mat-datepicker #tdp2></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('clarificationDate')?.hasError('required')){
                                    Clarification Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('clarificationDate')?.hasError('required')){
                                <span class="error-msg">Clarification Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('publishDate')?.value" [matDatepicker]="tdp3" required formControlName="clarificationDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="tdp3"></mat-datepicker-toggle>
                            <mat-datepicker #tdp3></mat-datepicker>
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('responseDate')?.hasError('required')){
                                    Response Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('responseDate')?.hasError('required')){
                                <span class="error-msg">Response Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('clarificationDate')?.value" [matDatepicker]="tdp5" required formControlName="responseDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="tdp5"></mat-datepicker-toggle>
                            <mat-datepicker #tdp5></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('submissionDueDate')?.hasError('required')){
                                    Submission Due Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('submissionDueDate')?.hasError('required')){
                                <span class="error-msg">Submission Due Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('responseDate')?.value" [matDatepicker]="t1dp1" required formControlName="submissionDueDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="t1dp1"></mat-datepicker-toggle>
                            <mat-datepicker #t1dp1></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('responseOpenDate')?.hasError('required')){
                                    Response Open Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('responseOpenDate')?.hasError('required')){
                                <span class="error-msg">Response Open Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('submissionDueDate')?.value"  [matDatepicker]="t1dp2" required formControlName="responseOpenDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="t1dp2"></mat-datepicker-toggle>
                            <mat-datepicker #t1dp2></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('awardProcessingDate')?.hasError('required')){
                                    Award Processing Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('awardProcessingDate')?.hasError('required')){
                                <span class="error-msg">Award Processing Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('responseOpenDate')?.value" [matDatepicker]="t1dp3" required formControlName="awardProcessingDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="t1dp3"></mat-datepicker-toggle>
                            <mat-datepicker #t1dp3></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('awardDate')?.hasError('required')){
                                    Award Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('awardDate')?.hasError('required')){
                                <span class="error-msg">Award Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="SourcingRFQ.get('awardProcessingDate')?.value" [matDatepicker]="t1dp4" required formControlName="awardDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="t1dp4"></mat-datepicker-toggle>
                            <mat-datepicker #t1dp4></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('needByDate')?.hasError('required')){
                                    Need By Date
                                }
                                @if(isSubmitted && SourcingRFQ.get('needByDate')?.hasError('required')){
                                <span class="error-msg">Need By Date is required</span>
                                }
                            </mat-label>
                            <input matInput [min]="minDate" [matDatepicker]="tdp4" required formControlName="needByDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="tdp4"></mat-datepicker-toggle>
                            <mat-datepicker #tdp4></mat-datepicker>
                        </mat-form-field>
                        <div>
                            <span class="ft-size11">
                                    @if(!isSubmitted || !SourcingRFQ.get('expectedValidity')?.hasError('required') && !SourcingRFQ.get('validityValueId')?.hasError('required')){
                                        Expected Validity of Response<sup>*</sup>
                                    }
                                    @if(isSubmitted && SourcingRFQ.get('expectedValidity')?.hasError('required') && SourcingRFQ.get('validityValueId')?.hasError('required')){
                                    <span class="error-msg">Expected Validity of Response is required</span>
                                    }
                            </span>
                            <div class="d-flex cust-field-height">
                                <mat-form-field style="width: 140px;">
                                    <input matInput allowNumberOnly formControlName="expectedValidity">
                                </mat-form-field>
                                <mat-form-field class="w-100">
                                    <mat-select formControlName="validityValueId">
                                        <mat-option *ngFor="let validity of validatityValue" [value]="validity?.hourse">{{validity?.hourse}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           
            <div class="widget-box">

                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Bill of Quantity (BOQ)                   
                    <button class="small-btn-action"  matTooltip="Add" (click)="additemDialog()">
                        <i class="fa fa-plus"></i>
                    </button>

                </h5>
                <div class="widget-content">
                    <div class="grid-5cols" formGroupName="SourcingRFQ" *ngIf="SourcingRFQ.get('forExCurrencyTxn')?.value === true">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('functionalCurrencyId')?.hasError('required')){
                                    Functional Currency
                                }
                                @if(isSubmitted && SourcingRFQ.get('functionalCurrencyId')?.hasError('required')){
                                <span class="error-msg">Functional Currency is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="functionalCurrencyId">
                                <mat-option *ngFor="let currency of FinCurrencyList" [value]="currency.currencyName">
                                    {{ currency.currencyName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('transactionalCurrencyId')?.hasError('required')){
                                    Transactional Currency
                                }
                                @if(isSubmitted && SourcingRFQ.get('transactionalCurrencyId')?.hasError('required')){
                                <span class="error-msg">Transactional Currency is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="transactionalCurrencyId">
                                <mat-option *ngFor="let currency of FinCurrencyList" [value]="currency.currencyName">
                                    {{ currency.currencyName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !SourcingRFQ.get('spendCategoryId')?.hasError('required')){
                                    Spend Category
                                }
                                @if(isSubmitted && SourcingRFQ.get('spendCategoryId')?.hasError('required')){
                                <span class="error-msg">Spend Category is required</span>
                                }
                            </mat-label>
                            <mat-select required formControlName="spendCategoryId">
                                <mat-option *ngFor="let category of spendCategory" [value]="category?.name">{{category?.name}}</mat-option>
                                <!-- <mat-option value="2"> CapEx Purchase</mat-option> -->
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="table-responsive mt-2" formArrayName="rfqBillOfQuantityTrans">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th scope="col" style="width: 80px;">Serial #</th>
                                    <th scope="col" style="width: 80px;">Code</th>
                                    <th scope="col">Item Type</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">UOM</th>
                                    <th scope="col">Quantity</th>
                                    <th scope="col">Ship to Site</th>
                                    <th scope="col">Need By Date</th>
                                    <th scope="col" style="width: 80px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cust-field-height" *ngFor="let billofquantity of rfqBillOfQuantityTrans.controls; let i = index" [formGroupName]="i">
                                    <td> {{ i+1 }} </td>
                                    <td>
                                        {{ billofquantity.get('code')?.value }}
                                    </td>
                                    <td>
                                        {{ billofquantity.get('itemType')?.value || 'N/A'}}
                                    </td>
                                    <td>
                                        {{ billofquantity.get('description')?.value }}
                                    </td>
                                    <td style="width: 100px;">
                                        <mat-form-field class="w-100">
                                            <mat-select matTooltip="Select the UOM" required formControlName="uomId">
                                                <mat-option *ngFor="let uom of unitOfMeasure" [value]="uom?.unitMeasureTypeId">{{uom?.unitMeasureType}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                    <td style="width: 100px;">
                                        <mat-form-field class="w-100">
                                            <input matInput class="text-right" allowNumberOnly formControlName="quantity">
                                        </mat-form-field>
                                    </td>
                                    <td style="width: 100px;">
                                        <mat-form-field class="w-100">
                                            <input matInput class="text-right" formControlName="shiptoSite">
                                        </mat-form-field>
                                    </td>
                                    <td style="width: 100px;">
                                        <mat-form-field class="mxW-120">
                                            <input matInput [matDatepicker]="tdp10" required formControlName="needByDate">
                                            <mat-datepicker-toggle matSuffix [for]="tdp10"></mat-datepicker-toggle>
                                            <mat-datepicker #tdp10></mat-datepicker>
                                        </mat-form-field>
                                    </td>
                                    <td class="text-center">
                                        <i class="fa fa-trash"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="widget-box" formArrayName="RFQAssignSuppliersTrans">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Assign Suppliers
                    <button class="small-btn-action" (click)="addSupplierPopup()" matTooltip="Search & Add Suppliers"><i
                            class="fa fa-plus"></i></button>
                </h5>
                <div class="widget-content">
                    <div class="table-responsive mt-2">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th scope="col" style="width: 80px;">Serial #</th>
                                    <th scope="col">Supplier Code</th>
                                    <th scope="col">Supplier Name</th>
                                    <th scope="col">Grade</th>
                                    <th scope="col">Status</th>
                                    <th scope="col" style="width: 80px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cust-field-height" *ngFor="let assignSupplier of RFQAssignSuppliersTrans.controls; let i = index" [formGroupName]="i">
                                    <td>{{ i+1 }}</td>
                                    <td>
                                        <!-- <mat-form-field class="mxW-120">
                                            <input matInput class="text-right" value="LSUPP-21298" formControlName="SupplierCode">
                                        </mat-form-field> -->
                                        {{ assignSupplier.get('supplierCode')?.value }}
                                    </td>
                                    <td>
                                        <!-- <mat-form-field class="mxW-120">
                                            <input matInput class="text-right"
                                                value="Eastern Network Service Private Limted" formControlName="SupplierName">
                                        </mat-form-field> -->
                                        {{ assignSupplier.get('supplierName')?.value }}
                                    </td>
                                    <td style="width: 100px;">
                                        <!-- <mat-form-field class="w-100">
                                            <mat-select matTooltip="Select the UOM" required formControlName="GradeId">
                                                <mat-option value="">-- Please Select --</mat-option>
                                                <mat-option value="2">A</mat-option>
                                            </mat-select>
                                        </mat-form-field> -->
                                        {{ assignSupplier.get('gradeId')?.value }}
                                    </td>

                                    <td style="width: 100px;">
                                        <!-- <mat-form-field>
                                            <mat-select matTooltip="Select the UOM" required formControlName="StatusId">
                                                <mat-option value="">-- Please Select --</mat-option>
                                                <mat-option value="1">Active</mat-option>
                                            </mat-select>
                                        </mat-form-field> -->
                                        {{ assignSupplier.get('statusId')?.value }}
                                    </td>
                                    <td style="width: 80px;" class="text-center">
                                        <i class="fa fa-trash"></i>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="widget-box" formGroupName="RFQShippingInfoTrans">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-start">
                    Shipping Information
                    <mat-checkbox class="ms-3" formControlName="negotiable">Negotiable</mat-checkbox>
                </h5>
                <div class="widget-content">
                    <div class="grid-1-1-3">
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !RFQShippingInfoTrans.get('shippingMethodId')?.hasError('required')){
                                    Shipping Method
                                }
                                @if(isSubmitted && RFQShippingInfoTrans.get('shippingMethodId')?.hasError('required')){
                                <span class="error-msg">Shipping Method is required</span>
                                }
                            </mat-label>
                            <mat-select [required]="RFQShippingInfoTrans.get('shippingMethodId')?.hasError('required')? true : false" formControlName="shippingMethodId">
                                <mat-option *ngFor="let method of shipMethod" [value]="method?.name">{{method?.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !RFQShippingInfoTrans.get('shippingTermId')?.hasError('required')){
                                    Shipping Term
                                }
                                @if(isSubmitted && RFQShippingInfoTrans.get('shippingTermId')?.hasError('required')){
                                <span class="error-msg">Shipping Term is required</span>
                                }
                            </mat-label>
                            <mat-select [required]="RFQShippingInfoTrans.get('shippingTermId')?.hasError('required')? true : false" formControlName="shippingTermId">
                                <mat-option *ngFor="let term of shipTerm" [value]="term?.name">{{term?.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>
                                @if(!isSubmitted || !RFQShippingInfoTrans.get('description')?.hasError('required')){
                                    Description
                                }
                                @if(isSubmitted && RFQShippingInfoTrans.get('description')?.hasError('required')){
                                <span class="error-msg">Description is required</span>
                                }
                            </mat-label>
                            <textarea [required]="RFQShippingInfoTrans.get('description')?.hasError('required')? true : false" matInput rows="1" formControlName="description"></textarea>
                        </mat-form-field>

                    </div>
                </div>
            </div>
            <div class="widget-box">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                    Document Section
                </h5>
                <div class="widget-content">
                    <!-- <div class="grid-25-55-18 align-items-center">
                        <mat-form-field>
                            <mat-label>Document Type</mat-label>
                            <mat-select required>
                                <mat-option value="">-- Please Select --</mat-option>
                                <mat-option value=""></mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Description</mat-label>
                            <textarea matInput class="w-100" rows="1"></textarea>
                        </mat-form-field>
                        <div class="custom-file-upload mt-3">
                            <button class="file-upload-button">
                                <input class="custom-file-input" id="customFileLang" type="file" #fileInput
                                    accept="image/jpg,image/jpeg,image/gif,image/png,application/pdf" multiple>
                                <i class="fa fa-cloud-upload" aria-hidden="true"></i><span class="ps-2">Upload</span>
                            </button>

                        </div>
                    </div> -->
                    <div class="table-responsive mt-2" formArrayName="RFQDocumentSectionTrans">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th scope="col" style="min-width: 100px;">Serial #</th>
                                    <th scope="col">Document Type</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">File Type</th>
                                    <th scope="col">File Name</th>
                                    <th scope="col">Uploaded By</th>
                                    <th scope="col">Uploaded Date</th>
                                    <th scope="col">Upload</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cust-field-height" *ngFor="let sectionDocument of RFQDocumentSectionTrans.controls; let i = index" [formGroupName]="i">
                                    <td> {{ i+1 }} </td>
                                    <td>
                                        {{ sectionDocument.get('docName')?.value }}
                                    </td>
                                    <td>
                                        <textarea
                                        matInput
                                        class="w-100"
                                        formControlName="docDescription"
                                        rows="1"
                                      >
                                      </textarea>
                                    </td>
                                    <td>
                                        {{ sectionDocument.get('fileType')?.value }}
                                    </td>
                                    <td>
                                        {{ sectionDocument.get('fileName')?.value }}
                                    </td>
                                    <td>
                                        {{ sectionDocument.get('uploadedBy')?.value }}
                                    </td>
                                    <td>
                                        {{ sectionDocument.get('uploadedDate')?.value }}
                                    </td>
                                    <td>
                                        <div>
                                            <div class=" d-flex w-100 justify-content-between align-items-center pt-4">
                
                                                <div class="custom-file-upload">
                                                    <button class="file-upload-button">
                                                        <input class="custom-file-input"
                                                            id="customFileLang" type="file" #fileInput
                                                            accept="image/jpg,image/jpeg,image/gif,image/png,application/pdf"
                                                            (change)="onFileChange($event, i)" multiple>
                                                        <i class="fa fa-cloud-upload" aria-hidden="true"></i><span
                                                            class="ps-2">Upload</span>
                                                    </button>
                
                                                </div>
                
                                                <div class="attach-section col" style="width: 50px; margin-left: 20px;">
                                                    <mat-icon matBadge="{{ listOfFiles[i] ? listOfFiles[i].length : 0 }}" id="sidebarToggle" (click)="toggleAttach(i)">
                                                        <span class="material-icons-outlined">ballot</span>
                                                    </mat-icon>
                                                    <div class="sidebar navbar-nav" style="display: none;" [class.toggled]="attachToggle[i]">
                                                        <div class="close-icon">
                                                            <div class="subHeading">Documents Section</div>
                                                            <mat-icon class="icon-close" (click)="closeAttach(i)">
                                                                <span class="material-icons-outlined">close</span>
                                                            </mat-icon>
                                                        </div>
                                                
                                                        <!-- Show message if no files exist -->
                                                        @if (!listOfFiles[i] || listOfFiles[i].length === 0) {
                                                        <div class="smText noData">Files not available.</div>
                                                        }
                                                
                                                        <!-- Show files for the correct row -->
                                                        @if (listOfFiles[i] && listOfFiles[i].length > 0) {
                                                        <div>
                                                            @for (file of listOfFiles[i]; track file; let idx = $index) {
                                                            <div class="upload-file-row">
                                                                <div class="d-flex flex-row align-items-top">
                                                                    <div style="width: fit-content;" class="subHeading2 pe-1">{{ idx+1 }}. </div>
                                                                    <div class="subHeading2 col">
                                                                        <div style="display: flex; align-items: center; max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                                                            @if (file.docId > 0) {
                                                                            <span class="helper-underline pointer me-1" style="flex-shrink: 1; overflow: hidden; text-overflow: ellipsis;" matTooltip="{{file.fileInfo.name}}">
                                                                                {{file.fileInfo.name}}
                                                                            </span>
                                                                            <small>{{commonService.transformFileSize(file?.fileInfo?.size)}}</small>
                                                                            } @else {
                                                                            <span style="flex-shrink: 1; overflow: hidden; text-overflow: ellipsis;">
                                                                                {{file?.name}}
                                                                            </span>
                                                                            <small>({{commonService.transformFileSize(file.fileInfo?.size)}})</small>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            }
                                                        </div>
                                                        }
                                                    </div>
                                                </div>                                                
                                            </div>
                                            <div class="text-danger ft-size11">Supported Formates: jpg, jpeg, gif, png, pdf</div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="widget-box" formArrayName="RFQSupplierDocumentSectionTrans">
                <h5 class="widget-title  d-flex align-items-center justify-content-between">
                    <div>Supplier Documents <i class="fa fa-info-circle ps-2"></i></div>
                    <button class="small-btn-action" matTooltip="Add"><i class="fa fa-plus"></i></button>
                </h5>
                <div class="widget-content">
                    <div class="table-responsive mt-2">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th scope="col" style="min-width: 100px;">Serial #</th>
                                    <th scope="col">Document Name</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">Mandatory</th>
                                    <th scope="col">Optional</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cust-field-height" *ngFor="let supplierDocument of RFQSupplierDocumentSectionTrans.controls; let i = index" [formGroupName]="i">
                                    <td> {{ i+1 }} </td>
                                    <td>
                                        <!-- <mat-form-field class="w-100"> -->
                                            <!-- <input matInput formControlName="docName"> -->
                                            {{supplierDocument.get('docName')?.value}}
                                        <!-- </mat-form-field> -->

                                    </td>
                                    <td>
                                        <mat-form-field class="w-100">
                                            <input matInput formControlName="docDescription">
                                        </mat-form-field>

                                    </td>
                                    <td class="text-center">
                                        <mat-checkbox formControlName="mandatory"></mat-checkbox>
                                    </td>
                                    <td class="text-center">
                                        <mat-checkbox formControlName="optional"></mat-checkbox>
                                    </td>
                                    <td class="text-center">
                                        <i class="fa fa-trash"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="widget-box" formGroupName="SourcingRFQ">
                <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
                        Notes to Supplier
                </h5>
                <div class="widget-content">
                    <textarea matInput class="w-100" placeholder=""  formControlName="notestoSupplier"></textarea>
                </div>
            </div>  
        </form>
    </div>

    <div class="footer-action-btn">
        <button class="btn-gray"  (click)="cancel()"><i class="fa fa-arrow-circle-o-left pe-2" aria-hidden="true"></i>Cancel</button>
        <div class="middle-spacer"> </div>
        <!-- [disabled]="rfqForm.invalid" -->
        <button class="btn-blue"  (click)="submit()">
            <i class="fa fa-floppy-o pe-2" aria-hidden="true"></i>Save As Draft </button>
        <button class="btn-blue" (click)="processWorkflow()" [disabled]="rfqId !== 0">
            <i class="fa fa-recycle pe-2" aria-hidden="true"></i>Process Workflow</button>
        <button class="btn-blue" disabled>
            <i class="fa fa-newspaper-o pe-2" aria-hidden="true"></i>Publish</button>
    </div>

</div>


<ng-template #popupTemplate >

    <div class="dialog-container">
      <div mat-dialog-title>
          <h3>Item Search</h3>
          <button mat-icon-button  mat-dialog-close>
              <i class="material-icons" matTooltip="close">close</i>
          </button>
      </div>
      <mat-dialog-content>
        <div class="widget-box">
            <div class="widget-content">
              <div class="grid-4cols align-items-center">
                <mat-form-field>
                  <mat-label>Spend Category 1</mat-label> 
                    <mat-select required>
                        <mat-option value="Pls select">-- Please Select --</mat-option> 
                    </mat-select> 
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Spend Category 2</mat-label> 
                    <mat-select required>
                        <mat-option value="Pls select">-- Please Select --</mat-option> 
                    </mat-select> 
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Spend Category 3</mat-label> 
                    <mat-select required>
                        <mat-option value="Pls select">-- Please Select --</mat-option> 
                    </mat-select> 
                </mat-form-field>
                <button style="width: 120px" class="header-level-btn-gray mt-3 mxw-120" matTooltip="Reset">
                  <i class="fa fa-refresh pe-2"></i>Reset
                </button>
              </div>
              <div class="grid-4cols align-items-center">
                <mat-form-field class="w-100">
                  <mat-label>Iem Code</mat-label>
                  <input matInput value="" />
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Item Description</mat-label>
                  <input matInput value="" />
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Item Type</mat-label>
                  <input matInput value="" />
                </mat-form-field> 
                <button style="width: 120px" class="header-level-btn-blue mt-3 mxw-120" matTooltip="Create Template">
                  <i class="fa fa-search pe-2"></i>Search
                </button>
              </div>
            </div>
        </div>
        <div class="widget-box mb-2">
          <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
            BOQ Item Details
          </h5>
          <div class="widget-content"> 

            <ag-grid-angular  style="width: 100%; height: 500px" class="ag-theme-alpine"
            [rowData]="addassignitem" [columnDefs]="columnDefss"  
             
            rowSelection="multiple">
          </ag-grid-angular> 

          </div>
        </div>
  
        <div class="widget-box">
          <h5 class="widget-title pt-3 pb-3 d-flex align-items-center justify-content-between">
            Selected Items
          </h5>
          <div class="widget-content">
            <div class="table-responsive">
              <table class="content-table">
                <thead>
                  <tr>
                    <th scope="col">Serial #</th>
                    <th scope="col">Item Code</th>
                    <th scope="col">Item Description</th>
                    <th scope="col">Item Type</th>
                    <th scope="col">UOM</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  
                    <tr>
                      <td>1</td>
                      <td>52552</td>
                      <td>UNIMECH AEROSPACE Test </td>
                      <td>Type Des</td>
                      <td>Active</td>
                      <td class="text-center">
                        <button mat-button class="btn-small">
                            <i class="fa fa-trash text-danger"></i>
                        </button>                        
                      </td>
                    </tr>
                  
             
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </mat-dialog-content>
      <mat-dialog-actions>
        <div class="footer-cta-btn">
          <div class="cta-leftside-btn">
            <button class="btn-gray" mat-dialog-close cdkFocusInitial>
              <i class="fa fa-ban pe-2"></i>Cancel
            </button>
          </div>
  
          <div class="cta-rightside-btn">
            <button class="btn-blue">
              <i class="fa fa-plus pe-2"></i>Add  
            </button>
          </div>
        </div>
      </mat-dialog-actions>
    </div>
  
  </ng-template>